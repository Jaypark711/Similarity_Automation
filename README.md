# 📷 이미지 유사도 기반 자동화  
> 이미지 유사도를 활용해 랜덤 팝업을 자동으로 종료하는 프로토타입 툴을 소개합니다!

---

## 🕹️ 상황 (Situation)  
1. **게임 플레이 데이터**를 누적하기 위해 자동 플레이를 항상 켜두어야 했습니다.  
2. 자동 플레이 도중, **랜덤한 타이밍**에 팝업이 뜨면  
3. 수동으로 확인·종료해야 해서 **집중 분산** 문제가 발생했습니다.  

![팝업 예시](https://github.com/user-attachments/assets/1f0056a7-0810-478d-af74-644aae070747)  

---

## 🎯 과제 (Task)  
- **팝업 노출** 여부를 자동으로 감지하고  
- 즉시 **종료 버튼**을 클릭하여  
- **연속적 자동 플레이**와 **업무 집중도**를 유지해야 했습니다.  

---

## 🚀 해결 방법 (Action)  
1. **타겟 스크린샷 준비**  
   - `adb screencap`으로 팝업 화면을 `target.png`로 저장  
2. **실시간 화면 캡처 루프** 실행  
   - 주기적으로 `adb exec-out screencap -p`로 `screenshot.png` 저장  
3. **유사도 비교**  
   - `opencv` 라이브러리를 활용, 두 이미지의 값을 계산 후 유사도 산출  
4. **자동 탭 액션**  
   - 유사도 ≥ **0.95** → `adb shell input tap x y` (팝업 종료)  
   - 유사도 < **0.95** → 다시 캡처·비교 루프로 복귀  

![동작 예시](https://github.com/user-attachments/assets/54639dab-8c5f-4048-a78f-e5595a7abe34)  

---

## 🌟 결과 (Result)

### ⏱️ 시간 절감
| 단계               | 소요 시간 |
|:-----------------|:--------:|
| 자동화 도입 전      | 30시간    |
| 자동화 도입 후      |  8시간    |

- **약 73%**의 시간 절감  
- 수동 개입 없이 **연속 자동 플레이** 유지

### 💰 ROI
| 구분                                      | 금액(₩)  |
|:----------------------------------------|:-------:|
| 도입 전 예상 비용<br>(시급 20,000원 × 30h) | 600,000 |
| 도입 후 소요 비용<br>(시급 20,000원 ×  8h) |  160,000 |
| 자동화 도입을 통해 얻은 비용 |  440,000 |
---

# 🎥 시연 영상

https://github.com/user-attachments/assets/fb084972-b6c8-403f-9337-cea3d52048c8

# 📖 사용 가이드
## 설치되어야 할 항목
```
Python (3.13.1)
adb (Android Debug Bridge version 1.0.41)
```

## 준비되어야 할 항목
```
adb 연결이 가능한 android 기기 (AOS)
```

## 설치 방법
```
git clone https://github.com/Jaypark711/Similarity_Automation.git
pip install -r requirements.txt
```

## 사용 방법 
> 1. adb를 이용해 android 기기 연결
> 2. 자동화 대상 화면에서 파이썬 스크립트 실행
> 3. 실행 시 나오는 창에서, 클릭 원하는 좌표를 클릭 (ex. 팝업의 닫기 버튼)

## 커스터마이징
`threshold` 값을 수정하면, 유사도 임계값을 수정할 수 있습니다.
숫자가 0에 가까우면, 이미지가 유사하지 않더라도 클릭합니다.
숫자가 1에 가까우면, 이미지가 매우 유사할 시 클릭합니다.
같은 팝업 창이라 할지라도, 특수 효과가 많은 경우 (게임 화면) threshold 값을 적절히 수정하는 것이 필요합니다.

# 🗄️ (선택) 이미지유사도 알고리즘 테스트를 위한 간이 서버 실행
**시연 영상을 위해 띄운 웹 서버를 실행시킨 방법입니다.**
> 1. python -m http.server 8000
> 2. http://<PC_IP>:8000/random_popup.html
